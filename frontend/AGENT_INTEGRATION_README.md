# 🤖 리액트 에이전트 통합 가이드

## 📋 개요

PickTalk 컴포넌트에 리액트 에이전트 기능을 통합하여, 사용자가 AI 에이전트와 대화하며 채용공고를 작성할 수 있도록 구현했습니다.

## 🚀 주요 기능

### 1. **AI 에이전트 모드**
- **상태 기반 대화**: 채용공고 작성 과정을 단계별로 안내
- **자동 필드 추출**: 사용자 입력에서 키워드, 직무, 기술 스택 등을 자동 추출
- **템플릿 추천**: 상황에 맞는 채용공고 템플릿 자동 추천
- **콘텐츠 생성**: AI가 채용공고 내용을 자동으로 생성

### 2. **에이전트 상태 관리**
```
INITIAL → KEYWORD_EXTRACTION → TEMPLATE_SELECTION →
CONTENT_GENERATION → REVIEW_EDIT → FINAL_CONFIRMATION
```

### 3. **모듈화된 컴포넌트**
- `AgentMessage`: 에이전트 메시지 표시
- `AgentQuickActions`: 빠른 액션 버튼들
- `AgentSuggestions`: 제안 사항들
- `AgentLoadingDots`: 로딩 애니메이션

## 🏗️ 아키텍처

### 파일 구조
```
frontend/src/
├── components/
│   ├── AgentComponents/
│   │   ├── AgentMessage.js          # 에이전트 메시지 컴포넌트
│   │   ├── AgentQuickActions.js     # 빠른 액션 컴포넌트
│   │   ├── AgentSuggestions.js      # 제안 사항 컴포넌트
│   │   ├── AgentLoadingDots.js     # 로딩 애니메이션
│   │   └── index.js                 # 컴포넌트 export
│   └── NewPickChatbot.js            # 메인 PickTalk 컴포넌트
├── services/
│   └── agentApiService.js           # 에이전트 API 서비스
└── utils/
    └── agentUtils.js                # 에이전트 유틸리티 함수들
```

### 핵심 모듈

#### 1. **agentUtils.js**
- 에이전트 상태 관리
- 응답 분석 및 포맷팅
- 상태 전환 로직
- 성능 모니터링

#### 2. **agentApiService.js**
- 에이전트 세션 관리
- API 호출 처리
- 에러 핸들링
- 상태 동기화

#### 3. **AgentComponents/**
- 재사용 가능한 UI 컴포넌트들
- 애니메이션 효과
- 반응형 디자인

## 🔧 사용 방법

### 1. **에이전트 모드 시작**
```javascript
// 픽톡에서 "🤖 AI 에이전트 모드" 버튼 클릭
// 또는 헤더의 🤖 버튼 클릭
```

### 2. **대화 예시**
```
사용자: "프론트엔드 개발자 채용공고를 작성하고 싶어요"
에이전트: "프론트엔드 개발자 채용공고 작성을 도와드리겠습니다!
         어떤 기술 스택을 원하시나요?"

사용자: "React, TypeScript, Next.js"
에이전트: "좋습니다! React, TypeScript, Next.js 기술 스택을
         포함한 채용공고를 작성하겠습니다..."
```

### 3. **상태별 액션**
- **초기 상태**: 직무 설명, 기술 스택, 회사 정보 입력
- **키워드 추출**: 추출된 키워드 확인 및 수정
- **템플릿 선택**: 추천 템플릿 선택 또는 새로 생성
- **콘텐츠 생성**: 생성된 내용 확인 및 수정
- **최종 확인**: 채용공고 등록 또는 수정

## 🎨 UI/UX 특징

### 1. **시각적 피드백**
- 에이전트 모드 활성화 시 헤더에 상태 표시
- 현재 에이전트 상태를 실시간으로 표시
- 로딩 애니메이션으로 처리 상태 표시

### 2. **인터랙션**
- 빠른 액션 버튼으로 다음 단계 진행
- 제안 사항 클릭으로 빠른 응답
- 에이전트 모드 전환 버튼으로 모드 변경

### 3. **반응형 디자인**
- 모바일과 데스크톱 모두 지원
- 터치 친화적인 버튼 크기
- 적절한 간격과 여백

## 🔌 API 연동

### 1. **백엔드 엔드포인트**
- `/api/job-posting-agent/start-session`: 세션 시작
- `/api/job-posting-agent/process-input`: 입력 처리
- `/api/langgraph-agent`: LangGraph 에이전트 호출

### 2. **데이터 형식**
```javascript
// 에이전트 응답 예시
{
  success: true,
  response: "응답 메시지",
  state: "keyword_extraction",
  extracted_fields: { ... },
  generated_content: { ... },
  suggestions: [...],
  quick_actions: [...]
}
```

## 🧪 테스트 및 디버깅

### 1. **콘솔 로깅**
- 에이전트 모드 시작/종료 로그
- 상태 전환 로그
- API 호출 결과 로그

### 2. **에러 처리**
- 네트워크 오류 처리
- API 응답 오류 처리
- 사용자 친화적인 오류 메시지

### 3. **성능 모니터링**
- 응답 시간 측정
- 느린 응답 경고
- 세션 상태 추적

## 🚀 향후 개선 사항

### 1. **기능 확장**
- 더 많은 채용공고 템플릿
- 다국어 지원
- 음성 입력 지원

### 2. **성능 최적화**
- 응답 캐싱
- 배치 처리
- 비동기 처리 개선

### 3. **사용자 경험**
- 개인화된 추천
- 학습 기반 응답 개선
- 대화 히스토리 관리

## 📝 주의사항

1. **세션 관리**: 에이전트 모드 종료 시 세션을 정리해야 합니다.
2. **에러 처리**: API 호출 실패 시 적절한 폴백 처리가 필요합니다.
3. **상태 동기화**: 프론트엔드와 백엔드 간 상태 동기화를 유지해야 합니다.
4. **메모리 관리**: 대화 히스토리가 길어질 수 있으므로 적절한 제한이 필요합니다.

## 🤝 기여 방법

1. 새로운 에이전트 기능 추가
2. UI/UX 개선
3. 성능 최적화
4. 테스트 코드 작성
5. 문서 업데이트

---

**작성자**: AI Assistant
**최종 업데이트**: 2024년 12월
**버전**: 1.0.0
